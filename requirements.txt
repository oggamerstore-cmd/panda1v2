# =============================================================================
# PANDA.1 v0.2.11 Requirements - OPTIMIZED
# =============================================================================
#
# CHANGELOG (Optimization):
# - Removed unused dependencies: httpx, aiosqlite, aiofiles, pyjwt, psutil,
#   python-multipart, websockets, cryptography
# - Kept python-dotenv (required by pydantic-settings for env_file support)
# - Added urllib3>=2.5.0 to fix CVE-2025-50182, CVE-2025-50181 (4 CVEs total)
# - Dependencies like python-multipart and websockets will be auto-installed
#   by FastAPI/uvicorn if needed
# =============================================================================

# Core
pydantic>=2.0.0
pydantic-settings>=2.0.0
python-dotenv>=1.0.0  # Required by pydantic-settings for env_file support
setuptools<81  # Avoid pkg_resources deprecation warning from webrtcvad
rapidfuzz>=3.0.0

# Web Framework
fastapi>=0.109.0
uvicorn[standard]>=0.27.0
requests>=2.31.0

# Database / Memory
chromadb>=0.4.22

# Security: Override vulnerable transitive dependency from chromadb->kubernetes
# Fixes CVE-2025-50182, CVE-2025-50181, and 2 other CVEs
urllib3>=2.5.0

# Audio Processing
sounddevice>=0.4.6
soundfile>=0.12.1
numpy>=1.24.0
webrtcvad

# STT - Faster-Whisper (NOT openai-whisper)
faster-whisper>=1.0.0

# TTS - Kokoro-82M with PyTorch CUDA 12.1 (RTX 2060 optimized)
# Install PyTorch with CUDA 12.1 support first:
# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
torch>=2.0.0
kokoro==0.9.4

# OpenAI Fallback (optional)
openai>=1.12.0

# Document Processing
python-docx>=1.1.0
